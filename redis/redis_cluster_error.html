<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>解决redis集群错误</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="e1vt" id="解决redis集群错误">解决redis集群错误</h1><hr><div class="md-section-divider"></div><h2 data-anchor-id="r6wy" id="clusterdown-the-cluster-is-down">CLUSTERDOWN The cluster is down</h2><div class="md-section-divider"></div><h2 data-anchor-id="0eh4" id="ruby在线安装">Ruby在线安装</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="68ji"><ol class="linenums"><li class="L0"><code><span class="pln">sudo yum install ruby    </span><span class="com"># CentOS, Fedora, 或 RHEL 系统</span></code></li><li class="L1"><code><span class="pln">sudo apt</span><span class="pun">-</span><span class="kwd">get</span><span class="pln"> install ruby</span><span class="pun">-</span><span class="pln">full </span><span class="com"># Debian 或 Ubuntu 系统</span></code></li><li class="L2"><code></code></li><li class="L3"><code><span class="pln">brew install ruby  </span><span class="com"># 苹果系统</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="ezie" id="rvm升级ruby">RVM升级Ruby</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="tlgx"><ol class="linenums"><li class="L0"><code><span class="pln">ruby </span><span class="pun">-</span><span class="pln">v  </span><span class="com"># 查看当前ruby版本</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="pln">vim </span><span class="pun">/</span><span class="pln">usr</span><span class="pun">/</span><span class="kwd">local</span><span class="pun">/</span><span class="pln">rvm</span><span class="pun">/</span><span class="pln">user</span><span class="pun">/</span><span class="pln">db</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pln">ruby_url</span><span class="pun">=</span><span class="pln">https</span><span class="pun">:</span><span class="com">//cache.ruby-china.org/pub/ruby # 利用国内镜像</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">rvm </span><span class="pun">-</span><span class="pln">v </span><span class="com"># 测试是否安装正常</span></code></li><li class="L7"><code></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pln">rvm list known </span><span class="com"># 列出已知ruby的版本</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pln">rvm install </span><span class="lit">2.4</span><span class="pln"> </span><span class="com"># 安装ruby 2.4，rvm会自行寻找此版本</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="s2pe" id="安装redis插件">安装redis插件</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="xcl2"><ol class="linenums"><li class="L0"><code><span class="pln">gem install redis</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="a7u6" id="检查redis集群">检查redis集群</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="b5zj"><ol class="linenums"><li class="L0"><code><span class="pun">./</span><span class="pln">redis</span><span class="pun">-</span><span class="pln">trib</span><span class="pun">.</span><span class="pln">rb check </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">16.102</span><span class="pun">:</span><span class="lit">20010</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="mgtt" id="解决错误">解决错误</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="s4c1"><ol class="linenums"><li class="L0"><code><span class="pun">./</span><span class="pln">redis</span><span class="pun">-</span><span class="pln">trib</span><span class="pun">.</span><span class="pln">rb fix </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">16.102</span><span class="pun">:</span><span class="lit">20010</span></code></li></ol></pre></div>
</body>
</html>