<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>redis查询测试</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="pvl2" id="redis查询测试">redis查询测试</h1><hr><div class="md-section-divider"></div><h2 data-anchor-id="9hnj" id="sortedset">SortedSet</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="oahu"><ol class="linenums"><li class="L0"><code><span class="pln">id time</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="kxca" id="pair条件数据">pair条件数据</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="9sf3"><ol class="linenums"><li class="L0"><code><span class="pln">ZADD </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">pair </span><span class="lit">1528128000</span><span class="pln"> </span><span class="lit">1</span></code></li><li class="L1"><code><span class="pln">ZADD </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">pair </span><span class="lit">1528041600</span><span class="pln"> </span><span class="lit">2</span></code></li><li class="L2"><code><span class="pln">ZADD </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">pair </span><span class="lit">1527955200</span><span class="pln"> </span><span class="lit">3</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="28fr" id="type条件数据">type条件数据</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="y5n8"><ol class="linenums"><li class="L0"><code><span class="pln">ZADD </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">type </span><span class="lit">1527955200</span><span class="pln"> </span><span class="lit">3</span></code></li><li class="L1"><code><span class="pln">ZADD </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">type </span><span class="lit">1528214400</span><span class="pln"> </span><span class="lit">4</span></code></li><li class="L2"><code><span class="pln">ZADD </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">type </span><span class="lit">1528128000</span><span class="pln"> </span><span class="lit">1</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="1soa" id="or条件">or条件</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="392y"><ol class="linenums"><li class="L0"><code><span class="pln">ZUNIONSTORE </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">salary</span><span class="pun">-</span><span class="kwd">or</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">pair </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">type AGGREGATE MIN</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="zbdc" id="and条件">and条件</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="yupl"><ol class="linenums"><li class="L0"><code><span class="pln">ZINTERSTORE </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">salary</span><span class="pun">-</span><span class="kwd">and</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">pair </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">type AGGREGATE MIN</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="a4vq" id="查询数量总数">查询数量（总数）</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="b0xr"><ol class="linenums"><li class="L0"><code><span class="pln">ZCOUNT </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">salary</span><span class="pun">-</span><span class="kwd">or</span><span class="pln"> </span><span class="lit">1528041600</span><span class="pln"> </span><span class="lit">1528128000</span><span class="pln"> </span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="6acx" id="倒叙查询获取idstart开始条数stop结束条数">倒叙查询获取id（start：开始条数，stop：结束条数）</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="eu6q"><ol class="linenums"><li class="L0"><code><span class="pln">ZREVRANGE </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">salary</span><span class="pun">-</span><span class="kwd">and</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> WITHSCORES</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="39gz" id="通过id查询具体数据">通过id查询具体数据</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="m7j4"><ol class="linenums"><li class="L0"><code><span class="pln">HGET key</span><span class="pun">-</span><span class="lit">1</span></code></li><li class="L1"><code><span class="pln">HGET key</span><span class="pun">-</span><span class="lit">2</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="w6th" id="根据时间戳倒叙查询">根据时间戳倒叙查询</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="mxs9"><ol class="linenums"><li class="L0"><code><span class="pln">ZREVRANGEBYSCORE </span><span class="pun">{</span><span class="pln">cyq</span><span class="pun">}-</span><span class="pln">salary</span><span class="pun">-</span><span class="kwd">or</span><span class="pln"> </span><span class="lit">1528128000</span><span class="pln"> </span><span class="lit">1528041600</span><span class="pln"> WITHSCORES</span></code></li></ol></pre></div>
</body>
</html>