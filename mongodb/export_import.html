<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>mongodb导入导出</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="quse" id="mongodb导入导出">mongodb导入导出</h1><div class="md-section-divider"></div><h2 data-anchor-id="ipeg" id="导出">导出</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="yg3n"><ol class="linenums"><li class="L0"><code><span class="pun">-</span><span class="pln">h</span><span class="pun">,--</span><span class="pln">host </span><span class="pun">：代表远程连接的数据库地址，默认连接本地</span><span class="typ">Mongo</span><span class="pun">数据库；</span></code></li><li class="L1"><code><span class="pun">--</span><span class="pln">port</span><span class="pun">：代表远程连接的数据库的端口，默认连接的远程端口</span><span class="lit">27017</span><span class="pun">；</span></code></li><li class="L2"><code><span class="pun">-</span><span class="pln">u</span><span class="pun">,--</span><span class="pln">username</span><span class="pun">：代表连接远程数据库的账号，如果设置数据库的认证，需要指定用户账号；</span></code></li><li class="L3"><code><span class="pun">-</span><span class="pln">p</span><span class="pun">,--</span><span class="pln">password</span><span class="pun">：代表连接数据库的账号对应的密码；</span></code></li><li class="L4"><code><span class="pun">-</span><span class="pln">d</span><span class="pun">,--</span><span class="pln">db</span><span class="pun">：代表连接的数据库；</span></code></li><li class="L5"><code><span class="pun">-</span><span class="pln">c</span><span class="pun">,--</span><span class="pln">collection</span><span class="pun">：代表连接数据库中的集合；</span></code></li><li class="L6"><code><span class="pun">-</span><span class="pln">f</span><span class="pun">,</span><span class="pln"> </span><span class="pun">--</span><span class="pln">fields</span><span class="pun">：代表集合中的字段，可以根据设置选择导出的字段；</span></code></li><li class="L7"><code><span class="pun">--</span><span class="pln">type</span><span class="pun">：代表导出输出的文件类型，包括</span><span class="pln">csv</span><span class="pun">和</span><span class="pln">json</span><span class="pun">文件；</span></code></li><li class="L8"><code><span class="pun">-</span><span class="pln">o</span><span class="pun">,</span><span class="pln"> </span><span class="pun">--</span><span class="kwd">out</span><span class="pun">：代表导出的文件名；</span></code></li><li class="L9"><code><span class="pun">-</span><span class="pln">q</span><span class="pun">,</span><span class="pln"> </span><span class="pun">--</span><span class="pln">query</span><span class="pun">：代表查询条件；</span></code></li><li class="L0"><code><span class="pln"> </span><span class="pun">--</span><span class="pln">skip</span><span class="pun">：跳过指定数量的数据；</span></code></li><li class="L1"><code><span class="pun">--</span><span class="pln">limit</span><span class="pun">：读取指定数量的数据记录；</span></code></li><li class="L2"><code><span class="pun">--</span><span class="pln">sort</span><span class="pun">：对数据进行排序，可以通过参数指定排序的字段，并使用</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">和</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">来指定排序的方式，其中</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">为升序排列，而-</span><span class="lit">1</span><span class="pun">是用于降序排列,如</span><span class="pln">sort</span><span class="pun">({</span><span class="pln">KEY</span><span class="pun">:</span><span class="lit">1</span><span class="pun">})。</span></code></li><li class="L3"><code></code></li><li class="L4"><code><span class="pun">注意：</span></code></li><li class="L5"><code><span class="pln">　　</span><span class="pun">当查询时同时使用</span><span class="pln">sort</span><span class="pun">,</span><span class="pln">skip</span><span class="pun">,</span><span class="pln">limit</span><span class="pun">，无论位置先后，最先执行顺序</span><span class="pln"> sort</span><span class="pun">再</span><span class="pln">skip</span><span class="pun">再</span><span class="pln">limit</span><span class="pun">。</span></code></li><li class="L6"><code><span class="pln">　　</span></code></li><li class="L7"><code><span class="pun">样例：</span></code></li><li class="L8"><code><span class="pln">mongoexport</span><span class="pun">.</span><span class="pln">exe </span><span class="pun">-</span><span class="pln">h </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.1</span><span class="pln"> </span><span class="pun">--</span><span class="pln">port </span><span class="lit">27017</span><span class="pln"> </span><span class="pun">-</span><span class="pln">u test </span><span class="pun">-</span><span class="pln">p test </span><span class="pun">-</span><span class="pln">d test </span><span class="pun">-</span><span class="pln">c test </span><span class="pun">--</span><span class="pln">type</span><span class="pun">=</span><span class="pln">json </span><span class="pun">-</span><span class="pln">o C</span><span class="pun">:</span><span class="pln">\Users\risk\Desktop\test</span><span class="pun">.</span><span class="pln">json</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="8d94" id="导入">导入</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="dlxr"><ol class="linenums"><li class="L0"><code><span class="pln">h</span><span class="pun">,--</span><span class="pln">host </span><span class="pun">：代表远程连接的数据库地址，默认连接本地</span><span class="typ">Mongo</span><span class="pun">数据库；</span></code></li><li class="L1"><code><span class="pun">--</span><span class="pln">port</span><span class="pun">：代表远程连接的数据库的端口，默认连接的远程端口</span><span class="lit">27017</span><span class="pun">；</span></code></li><li class="L2"><code><span class="pun">-</span><span class="pln">u</span><span class="pun">,--</span><span class="pln">username</span><span class="pun">：代表连接远程数据库的账号，如果设置数据库的认证，需要指定用户账号；</span></code></li><li class="L3"><code><span class="pun">-</span><span class="pln">p</span><span class="pun">,--</span><span class="pln">password</span><span class="pun">：代表连接数据库的账号对应的密码；</span></code></li><li class="L4"><code><span class="pun">-</span><span class="pln">d</span><span class="pun">,--</span><span class="pln">db</span><span class="pun">：代表连接的数据库；</span></code></li><li class="L5"><code><span class="pun">-</span><span class="pln">c</span><span class="pun">,--</span><span class="pln">collection</span><span class="pun">：代表连接数据库中的集合；</span></code></li><li class="L6"><code><span class="pun">-</span><span class="pln">f</span><span class="pun">,</span><span class="pln"> </span><span class="pun">--</span><span class="pln">fields</span><span class="pun">：代表导入集合中的字段；</span></code></li><li class="L7"><code><span class="pun">--</span><span class="pln">type</span><span class="pun">：代表导入的文件类型，包括</span><span class="pln">csv</span><span class="pun">和</span><span class="pln">json</span><span class="pun">,</span><span class="pln">tsv</span><span class="pun">文件，默认</span><span class="pln">json</span><span class="pun">格式；</span></code></li><li class="L8"><code><span class="pun">--</span><span class="pln">file</span><span class="pun">：导入的文件名称</span></code></li><li class="L9"><code><span class="pun">--</span><span class="pln">headerline</span><span class="pun">：导入</span><span class="pln">csv</span><span class="pun">文件时，指明第一行是列名，不需要导入；</span></code></li><li class="L0"><code></code></li><li class="L1"><code><span class="pun">样例：</span></code></li><li class="L2"><code><span class="pln">mongoimport</span><span class="pun">.</span><span class="pln">exe </span><span class="pun">-</span><span class="pln">h </span><span class="lit">192.168</span><span class="pun">.</span><span class="lit">1.1</span><span class="pln"> </span><span class="pun">--</span><span class="pln">port </span><span class="lit">27017</span><span class="pln"> </span><span class="pun">-</span><span class="pln">u test </span><span class="pun">-</span><span class="pln">p test </span><span class="pun">-</span><span class="pln">d test </span><span class="pun">-</span><span class="pln">c test </span><span class="pun">--</span><span class="pln">type</span><span class="pun">=</span><span class="pln">json </span><span class="pun">--</span><span class="pln">file D</span><span class="pun">:</span><span class="pln">\\test</span><span class="pun">.</span><span class="pln">json</span></code></li></ol></pre></div>
</body>
</html>